{"version":3,"sources":["../src/index.ts"],"sourcesContent":["export const global = {\n  baseURL: \"http://localhost:3001\",\n};\n\nexport const getTimestamp = () => {\n  return Date.now();\n};\n\nexport type extensionInstallEvent = (options?: any) => void;\n\nexport interface Extension {\n  install: extensionInstallEvent;\n  afterEvent?: Function;\n}\n\nexport function reportData(url: string, data: Record<string, any>) {\n  const headers = {\n    type: \"application/json\",\n  };\n  const result = navigator.sendBeacon(\n    `${global.baseURL}${url}`,\n    new Blob([JSON.stringify(data)], headers)\n  );\n  if (!result) {\n    requestIdleCallback(() => {\n      fetch(`${global.baseURL}${url}`, {\n        method: \"post\",\n        body: JSON.stringify(data),\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n      });\n    });\n  }\n}\n"],"mappings":"AAAO,IAAMA,EAAS,CACpB,QAAS,uBACX,EAEaC,EAAe,IACnB,KAAK,IAAI,EAUX,SAASC,EAAWC,EAAaC,EAA2B,CACjE,IAAMC,EAAU,CACd,KAAM,kBACR,EACe,UAAU,WACvB,GAAGL,EAAO,OAAO,GAAGG,CAAG,GACvB,IAAI,KAAK,CAAC,KAAK,UAAUC,CAAI,CAAC,EAAGC,CAAO,CAC1C,GAEE,oBAAoB,IAAM,CACxB,MAAM,GAAGL,EAAO,OAAO,GAAGG,CAAG,GAAI,CAC/B,OAAQ,OACR,KAAM,KAAK,UAAUC,CAAI,EACzB,QAAS,CACP,eAAgB,kBAClB,CACF,CAAC,CACH,CAAC,CAEL","names":["global","getTimestamp","reportData","url","data","headers"]}