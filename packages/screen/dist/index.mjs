import{reportData as x}from"@imrobot/monitor-helpers";import{Base64 as l}from"js-base64";import y from"pako";import{record as m}from"rrweb";var s=[],d=()=>{m({emit(t){s.push(t)}})},c=()=>{d()},f=t=>{let r={time:t,data:S(s)};x("/screen",r),s.length=0,m.takeFullSnapshot(!0)};function S(t){if(!t)return t;let r=l.encode(JSON.stringify(t)),n=y.gzip(r),a=Array.from(n),e="";return a.forEach(i=>{e+=String.fromCharCode(i)}),l.btoa(e)}import{Base64 as u}from"js-base64";import b from"pako";import z from"rrweb-player";import"rrweb-player/dist/style.css";var F=(t,r,n)=>{let a=C(r);new z({target:t,props:{events:a,width:n}})};function C(t){let n=u.atob(t).split("").map(function(h){return h.charCodeAt(0)}),a=new Uint8Array(n),e=b.ungzip(a),i="",p=8*1024,o;for(o=0;o<e.length/p;o++)i+=String.fromCharCode.apply(null,e.slice(o*p,(o+1)*p));i+=String.fromCharCode.apply(null,e.slice(o*p));let g=u.decode(i);return JSON.parse(g)}var D={install:c,afterEvent:f},M=D;export{M as default,F as playScreen};
//# sourceMappingURL=index.mjs.map